<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>FreeOrion: anonymous_namespace{ProductionQueue.cpp} Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FreeOrion
   &#160;<span id="projectnumber">0.4.8+</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">anonymous_namespace{ProductionQueue.cpp} Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8e1da657eca2dd8ed3e3b7a0d385c822"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02ProductionQueue_8cpp_03.html#a8e1da657eca2dd8ed3e3b7a0d385c822">AddRules</a> (<a class="el" href="classGameRules.html">GameRules</a> &amp;rules)</td></tr>
<tr class="separator:a8e1da657eca2dd8ed3e3b7a0d385c822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a38cc8a0ae25c4dbd11f135cd22a0de"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02ProductionQueue_8cpp_03.html#a2a38cc8a0ae25c4dbd11f135cd22a0de">CalculateNewStockpile</a> (int empire_id, float starting_stockpile, float project_transfer_to_stockpile, const std::map&lt; std::set&lt; int &gt;, float &gt; &amp;available_pp, const std::map&lt; std::set&lt; int &gt;, float &gt; &amp;allocated_pp, const std::map&lt; std::set&lt; int &gt;, float &gt; &amp;allocated_stockpile_pp)</td></tr>
<tr class="separator:a2a38cc8a0ae25c4dbd11f135cd22a0de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af499adab19c850171791317928740e56"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02ProductionQueue_8cpp_03.html#af499adab19c850171791317928740e56">CalculateProductionPerTurnLimit</a> (const <a class="el" href="structProductionQueue_1_1Element.html">ProductionQueue::Element</a> &amp;queue_element, float item_cost, int build_turns)</td></tr>
<tr class="separator:af499adab19c850171791317928740e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f745dd416a9ba708557f8aeda146456"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02ProductionQueue_8cpp_03.html#a3f745dd416a9ba708557f8aeda146456">SetProdQueueElementSpending</a> (std::map&lt; std::set&lt; int &gt;, float &gt; available_pp, float available_stockpile, float stockpile_limit, const std::vector&lt; std::set&lt; int &gt;&gt; &amp;queue_element_resource_sharing_object_groups, const std::map&lt; std::pair&lt; <a class="el" href="structProductionQueue_1_1ProductionItem.html">ProductionQueue::ProductionItem</a>, int &gt;, std::pair&lt; float, int &gt;&gt; &amp;queue_item_costs_and_times, const std::vector&lt; bool &gt; &amp;is_producible, <a class="el" href="structProductionQueue.html#ac81d9056d61895945b13081b4c83336e">ProductionQueue::QueueType</a> &amp;queue, std::map&lt; std::set&lt; int &gt;, float &gt; &amp;allocated_pp, std::map&lt; std::set&lt; int &gt;, float &gt; &amp;allocated_stockpile_pp, int &amp;projects_in_progress, bool simulating)</td></tr>
<tr class="memdesc:a3f745dd416a9ba708557f8aeda146456"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the allocated_pp value for each Element in the passed <a class="el" href="structProductionQueue.html">ProductionQueue</a> <em>queue</em>.  <a href="#a3f745dd416a9ba708557f8aeda146456">More...</a><br /></td></tr>
<tr class="separator:a3f745dd416a9ba708557f8aeda146456"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5596fb74a20baa1cc9bcbae92645234d"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02ProductionQueue_8cpp_03.html#a5596fb74a20baa1cc9bcbae92645234d">EPSILON</a> = 0.01f</td></tr>
<tr class="separator:a5596fb74a20baa1cc9bcbae92645234d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdec9486aa0f434e370cd7dceb0b0b95"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02ProductionQueue_8cpp_03.html#afdec9486aa0f434e370cd7dceb0b0b95">temp_bool</a> = <a class="el" href="GameRules_8h.html#a2ca729ee6791ef4feec84e0011d53c16">RegisterGameRules</a>(&amp;<a class="el" href="namespaceanonymous__namespace_02ProductionQueue_8cpp_03.html#a8e1da657eca2dd8ed3e3b7a0d385c822">AddRules</a>)</td></tr>
<tr class="separator:afdec9486aa0f434e370cd7dceb0b0b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8e1da657eca2dd8ed3e3b7a0d385c822"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{ProductionQueue.cpp}::AddRules </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGameRules.html">GameRules</a> &amp;&#160;</td>
          <td class="paramname"><em>rules</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="classGameRules.html#a8acfac105251136ee962863e1791c9e7">GameRules::Add()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a38cc8a0ae25c4dbd11f135cd22a0de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float anonymous_namespace{ProductionQueue.cpp}::CalculateNewStockpile </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>empire_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>starting_stockpile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>project_transfer_to_stockpile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::set&lt; int &gt;, float &gt; &amp;&#160;</td>
          <td class="paramname"><em>available_pp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::set&lt; int &gt;, float &gt; &amp;&#160;</td>
          <td class="paramname"><em>allocated_pp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::set&lt; int &gt;, float &gt; &amp;&#160;</td>
          <td class="paramname"><em>allocated_stockpile_pp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="Logger_8h.html#aab217d647def87f94a26a02b230de1fa">ErrorLogger</a>, <a class="el" href="AppInterface_8h.html#acca929fdf0f6b2f6ba565be9f45f0a47">GetEmpire()</a>, <a class="el" href="GameRules_8cpp.html#a596d14b3b4a5f93dca44041d7df32117">GetGameRules()</a>, <a class="el" href="classEmpire.html#a1203e86b8b01b836ce150ffcd38d89d1">Empire::GetProductionQueue()</a>, <a class="el" href="chmain_8cpp.html#a48125e50ef0f46107a5ac162b0b61b3a">if()</a>, <a class="el" href="structProductionQueue.html#ae93afc63ea8533f89b8c84d8d61ced09">ProductionQueue::StockpileCapacity()</a>, and <a class="el" href="Logger_8h.html#ae567b80254f6c7c19a8868baa573140d">TraceLogger</a>.</p>

<p>Referenced by <a class="el" href="structProductionQueue.html#a8e45259d2fbfa76c33c6ac674d9703cd">ProductionQueue::Update()</a>.</p>

</div>
</div>
<a class="anchor" id="af499adab19c850171791317928740e56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float anonymous_namespace{ProductionQueue.cpp}::CalculateProductionPerTurnLimit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structProductionQueue_1_1Element.html">ProductionQueue::Element</a> &amp;&#160;</td>
          <td class="paramname"><em>queue_element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>item_cost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>build_turns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="structProductionQueue_1_1Element.html#a4b9437375c2ecfa15ddfc4238e1a44dd">ProductionQueue::Element::blocksize</a>, <a class="el" href="classGameRules.html#a50df260f47c0ba1bc3fbcba880115d8a">GameRules::Get()</a>, <a class="el" href="GameRules_8cpp.html#a596d14b3b4a5f93dca44041d7df32117">GetGameRules()</a>, <a class="el" href="structProductionQueue_1_1Element.html#aaeeb3ba58e8832febbd2d253bc1b710a">ProductionQueue::Element::progress</a>, and <a class="el" href="structProductionQueue_1_1Element.html#ac466bd763912d92b0066f62d86a02b56">ProductionQueue::Element::remaining</a>.</p>

<p>Referenced by <a class="el" href="namespaceanonymous__namespace_02ProductionQueue_8cpp_03.html#a3f745dd416a9ba708557f8aeda146456">SetProdQueueElementSpending()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f745dd416a9ba708557f8aeda146456"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float anonymous_namespace{ProductionQueue.cpp}::SetProdQueueElementSpending </td>
          <td>(</td>
          <td class="paramtype">std::map&lt; std::set&lt; int &gt;, float &gt;&#160;</td>
          <td class="paramname"><em>available_pp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>available_stockpile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>stockpile_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::set&lt; int &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>queue_element_resource_sharing_object_groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::pair&lt; <a class="el" href="structProductionQueue_1_1ProductionItem.html">ProductionQueue::ProductionItem</a>, int &gt;, std::pair&lt; float, int &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>queue_item_costs_and_times</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>is_producible</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structProductionQueue.html#ac81d9056d61895945b13081b4c83336e">ProductionQueue::QueueType</a> &amp;&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::set&lt; int &gt;, float &gt; &amp;&#160;</td>
          <td class="paramname"><em>allocated_pp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::set&lt; int &gt;, float &gt; &amp;&#160;</td>
          <td class="paramname"><em>allocated_stockpile_pp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>projects_in_progress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>simulating</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the allocated_pp value for each Element in the passed <a class="el" href="structProductionQueue.html">ProductionQueue</a> <em>queue</em>. </p>
<p>Elements are allocated PP based on their need, the limits they can be given per turn, and the amount available at their production location (which is itself limited by the resource supply system groups that are able to exchange resources with the build location and the amount of minerals and industry produced in the group). Elements will not receive funding if they cannot be produced by the empire with the indicated <em>empire_id</em> this turn at their build location. Also checks if elements will be completed this turn. Returns the amount of PP which gets transferred to the stockpile using stockpile project build items. </p>

<p>References <a class="el" href="Enums_8h.html#adb5d3577b982426b0b83866a07afd1bd">BT_STOCKPILE</a>, <a class="el" href="namespaceanonymous__namespace_02ProductionQueue_8cpp_03.html#af499adab19c850171791317928740e56">CalculateProductionPerTurnLimit()</a>, <a class="el" href="Logger_8h.html#aab217d647def87f94a26a02b230de1fa">ErrorLogger</a>, <a class="el" href="GameRules_8cpp.html#a596d14b3b4a5f93dca44041d7df32117">GetGameRules()</a>, <a class="el" href="chmain_8cpp.html#a48125e50ef0f46107a5ac162b0b61b3a">if()</a>, <a class="el" href="Empire_8h.html#a05ea65e76829ebdc0f42b2490b1777c8">INVALID_OBJECT_ID</a>, and <a class="el" href="Logger_8h.html#ae567b80254f6c7c19a8868baa573140d">TraceLogger</a>.</p>

<p>Referenced by <a class="el" href="structProductionQueue.html#a8e45259d2fbfa76c33c6ac674d9703cd">ProductionQueue::Update()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a5596fb74a20baa1cc9bcbae92645234d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const float anonymous_namespace{ProductionQueue.cpp}::EPSILON = 0.01f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="structProductionQueue.html#a8e45259d2fbfa76c33c6ac674d9703cd">ProductionQueue::Update()</a>.</p>

</div>
</div>
<a class="anchor" id="afdec9486aa0f434e370cd7dceb0b0b95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool anonymous_namespace{ProductionQueue.cpp}::temp_bool = <a class="el" href="GameRules_8h.html#a2ca729ee6791ef4feec84e0011d53c16">RegisterGameRules</a>(&amp;<a class="el" href="namespaceanonymous__namespace_02ProductionQueue_8cpp_03.html#a8e1da657eca2dd8ed3e3b7a0d385c822">AddRules</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
